<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Impostor Game</title>
</head>
<body>
    <h1>Impostor Game</h1>

    <input id="name" placeholder="Enter your name" />
    <button id="join">Join</button>

    <h3>Players</h3>
    <ul id="players"></ul>

    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
    <script>
    const BACKEND_URL = "https://imposter-backend-ch3h.onrender.com";
    const playersList = document.getElementById("players");
    const joinBtn = document.getElementById("join");

    let socket = io(BACKEND_URL, { transports: ["websocket"] });

    joinBtn.onclick = () => {
        const name = document.getElementById("name").value.trim();
        if (!name) return;

        socket.emit("join", { name });
        joinBtn.disabled = true;
    };

    socket.on("players_update", (players) => {
        playersList.innerHTML = "";
        players.forEach(p => {
        const li = document.createElement("li");
        li.textContent = p;
        playersList.appendChild(li);
        });
    });
    </script>
</body>
</html>