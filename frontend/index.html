<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Impostor Game</title>
</head>
<body>
    <h1>Impostor Game</h1>

    <button id="connect">Connect to server</button>
    <pre id="log"></pre>

    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
    <script>
    const BACKEND_URL = "https://imposter-backend-ch3h.onrender.com";
    const log = document.getElementById("log");

    function write(msg) {
        log.textContent += msg + "\n";
    }

    let socket = null;

    document.getElementById("connect").onclick = () => {
    if (socket) return; // already connected

    socket = io(BACKEND_URL, {
        transports: ["websocket"], // important, see below
    });

    document.getElementById("connect").disabled = true;

    socket.on("connect", () => {
        write("✅ Connected to server");
    });

    socket.on("disconnect", () => {
        write("❌ Disconnected from server");
        socket = null;
        document.getElementById("connect").disabled = false;
    });
    };
    </script>
</body>
</html>